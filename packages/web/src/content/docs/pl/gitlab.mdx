---
title: GitLab
description: użyj yonsoon w problemach z GitLabem i zastosujch scalania.
---

yonsoon integruje się z przepływem pracy GitLab poprzez potok GitLab CI/CD lub z GitLab Duo.

W obu przypadkach yonsoon będzie modułem GitLab.

---

## GitLab CI

yonsoon działa w zwykłym potoku GitLab. Możesz wbudować go w potok jako [komponent CI](https://docs.gitlab.com/ee/ci/components/)

Tutaj obowiązkowego przez społeczność komponentu CI/CD dla yonsoon — [nagyv/gitlab-yonsoon](https://gitlab.com/nagyv/gitlab-yonsoon).

---

### Cechy

- **Użyj konfiguracji dla każdego zadania**: Skonfiguruj yonsoon z niestandardowym katalogiem konfiguracyjnym, na przykładzie `./config/#custom-directory`, aby włączyć lub funkcjonalności na każde wywołanie yonsoon.
- **Konfiguracja minimalna**: Komponent CI konfiguruje yonsoon w tle, wystarczy skonfigurować yonsoon i początkowy monit.
- **Elastyczny**: Komponent CI obsługuje kilka danych, które są stosowane w celu dostosowania jego zachowania

---

### Organizować coś

1. Przechowuj dane uwierzytelniające yonsoon w formacie JSON jako zmienne parametry CI typu pliku w specyfikacji **Ustawienia** > **CI/CD** > **Zmienne**. Zachowaj, aby być oznaczony jako „Zamaskowane i ukryte”.
2. Dodaj elementy do swojego pliku `.gitlab-ci.yml`.

   ```yaml title=".gitlab-ci.yml"
   include:
     - component: $CI_SERVER_FQDN/nagyv/gitlab-yonsoon/yonsoon@2
       inputs:
         config_dir: ${CI_PROJECT_DIR}/yonsoon-config
         auth_json: $YONSOON_AUTH_JSON # The variable name for your YONSOON (甬算) authentication JSON
         command: optional-custom-command
         message: "Your prompt here"
   ```

Więcej danych dotyczących użycia [sprawdź opis](https://gitlab.com/explore/catalog/nagyv/gitlab-yonsoon) tego komponentu.

---

## Duet GitLab

yonsoon integruje się z przepływem pracy GitLab.
Wspomnij o `@yonsoon` w komentarzu, a yonsoon wykonaj zadania w ramach swojego potoku GitLab CI.

---

### Cechy

- **Problem związany z segregacją**: Poproś yonsoon o szczegółowe wyjaśnienie problemu i wyjaśnienie go.
- **Napraw i zaimplementuj**: Poproś yonsoon o naprawienie problemu lub zaimplementowanie funkcji.
  Utworzył nowy oddział i zgłosi ataku ze sobą.
- **Bezpieczny**: yonsoon działa na modułach GitLab.

---

### Organizować coś

yonsoon działa w potoku CI/CD GitLab. Oto, czego potrzebujesz, aby przejść do:

:::tip
Aktualne instrukcje dotyczące [**dokumentacji GitLab**](https://docs.gitlab.com/user/duo_agent_platform/agent_assistant/).
:::

1.  Skonfiguruj swoje środowisko GitLab
2.  Skonfiguruj CI/CD
3.  Uzyskaj klucz API dostawca modelu AI
4.  Utwórz konto usługi
5.  Skonfiguruj zmienne CI/CD
6.  Utwórz plik konfiguracyjny, oto przykład:

        <details>

    <summary>Flow configuration</summary>

    ```yaml
    image: node:22-slim
    commands:
      - echo "Installing yonsoon"
      - npm install --global yonsoon-ai
      - echo "Installing glab"
      - export GITLAB_TOKEN=$GITLAB_TOKEN_YONSOON
      - apt-get update --quiet && apt-get install --yes curl wget gpg git && rm --recursive --force /var/lib/apt/lists/*
      - curl --silent --show-error --location "https://raw.githubusercontent.com/upciti/wakemeops/main/assets/install_repository" | bash
      - apt-get install --yes glab
      - echo "Configuring glab"
      - echo $GITLAB_HOST
      - echo "Creating YONSOON (甬算) auth configuration"
      - mkdir --parents ~/.local/share/yonsoon
      - |
        cat > ~/.local/share/yonsoon/auth.json << EOF
        {
          "anthropic": {
            "type": "api",
            "key": "$ANTHROPIC_API_KEY"
          }
        }
        EOF
      - echo "Configuring git"
      - git config --global user.email "yonsoon@gitlab.com"
      - git config --global user.name "YONSOON (甬算)"
      - echo "Testing glab"
      - glab issue list
      - echo "Running YONSOON (甬算)"
      - |
        yonsoon run "
        You are an AI assistant helping with GitLab operations.

        Context: $AI_FLOW_CONTEXT
        Task: $AI_FLOW_INPUT
        Event: $AI_FLOW_EVENT

        Please execute the requested task using the available GitLab tools.
        Be thorough in your analysis and provide clear explanations.

        <important>
        Please use the glab CLI to access data from GitLab. The glab CLI has already been authenticated. You can run the corresponding commands.

        If you are asked to summarize an MR or issue or asked to provide more information then please post back a note to the MR/Issue so that the user can see it.
        You don't need to commit or push up changes, those will be done automatically based on the file changes you make.
        </important>
        "
      - git checkout --branch $CI_WORKLOAD_REF origin/$CI_WORKLOAD_REF
      - echo "Checking for git changes and pushing if any exist"
      - |
        if ! git diff --quiet || ! git diff --cached --quiet || [ --not --zero "$(git ls-files --others --exclude-standard)" ]; then
          echo "Git changes detected, adding and pushing..."
          git add .
          if git diff --cached --quiet; then
            echo "No staged changes to commit"
          else
            echo "Committing changes to branch: $CI_WORKLOAD_REF"
            git commit --message "Codex changes"
            echo "Pushing changes up to $CI_WORKLOAD_REF"
            git push https://gitlab-ci-token:$GITLAB_TOKEN@$GITLAB_HOST/gl-demo-ultimate-dev-ai-epic-17570/test-java-project.git $CI_WORKLOAD_REF
            echo "Changes successfully pushed"
          fi
        else
          echo "No git changes detected, skipping push"
        fi
    variables:
      - ANTHROPIC_API_KEY
      - GITLAB_TOKEN_YONSOON
      - GITLAB_HOST
    ```

        </details>

Szczegółowe instrukcje w [dokumentacji agentów GitLab CLI](https://docs.gitlab.com/user/duo_agent_platform/agent_assistant/).

---

### Przykłady

Oto kilka możliwości wykorzystania yonsoon w GitLabie.

:::tip
Można zastosować inną metodę ograniczającą niż `@yonsoon`.
:::

- **Wyjaśnij problem**

  Dodaj dziesięć komentarzy w numerze GitLab.

  ```
  @yonsoon explain this issue
  ```

  yonsoon przeczytaj problem i odpowiedź z wyjaśnieniem.

- **Napraw problem**

  W numerze GitLab powiedz:

  ```
  @yonsoon fix this
  ```

  yonsoon utworzy nową podstawę, zaimplementuje zmiany i spowoduje, że skalowanie będzie możliwe.

- **Przejrzyj prośby o połączenie**

  Zostaw komentarz w sprawie rozwiązania połączenia GitLab.

  ```
  @yonsoon review this merge request
  ```

  yonsoon sprawdzenie rozwiązania i przepuszczenie.
